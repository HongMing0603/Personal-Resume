JumpServer

製作前要先啟動docker

Tutorial:
```
https://github.com/wojiushixiaobai/Dockerfile
```

![picture 1](../../images/35ce78636e954b6e7878e5819089f43a261540b9367a6e25ea92da2a6f4557f3.png)  

設置堡壘機 使用者
![picture 2](../../images/a1027e99e2266d2d323aa06effd335ab4b418d59f640c45bef4333a1b99040be.png)  

設置asset
![picture 3](../../images/03453cb89bf2e386fdda50b2f32c172c629c08c6240a93f6e5583c290ee29a61.png)  

先設定Asset再設定user (Command User)

Permission要勾
![picture 4](../../images/0875311d89b5d30df68d720b4598979eb70c3adb4dc875f5e29fdd100ada229c.png)  

![picture 5](../../images/807acf5637876f7d59776fd6ce8708c8420c17efa3cbc31b2ff434421b3a5a80.png)  

凡走過必留下痕跡，JumpServer會記錄下我的惡行!!

查看操作影片
![picture 6](../../images/9caa28bd94ec24248ce0a81e6d9163b9fc8f96b8f91ac8d33929b02310b6d6c9.png)  

![picture 7](../../images/d90850a24656c96ff6a18b298fdd3c1e67a7a8cd672cea2f33c2a0fcb19f152b.png)  

![picture 8](../../images/de2c004132224c1cf718a2fabf9364c28737b1b788974f4fdd85513b4ad31bb0.png)  

開啟docker compose之前當然要把docker 開啟
``` systemctl start docker```
selinux與 firewalld好像也要關掉

![picture 9](../../images/52593d31d346b8126db2140952ecf025167a81446f2b433ed3795a2fffaf7817.png)  

建立mary 用戶

![picture 10](../../images/58429afbc31370ef63d85a364a1b40a0026c5b7b5394ee20ea517a3a4a86e38c.png)  

![picture 11](../../images/47cdc1016bdebd15b17e63b27a06af292d9f681ede6bd36c33bca13ee84e038a.png)  

![picture 12](../../images/e1c47673d871fdd4fde5269890c5ba5b05e4fe01c9b21ba22166d8b9d786d2fa.png)  

之後創建Asset 與 common user

![picture 13](../../images/f3bfe3577637d42e6f5290d94936c0a9fef52f6a2e14a4470fb67e0bc1266fc2.png)  
> Name根據你的虛擬機用戶名來更改 這裡其實是Common-User

## Step3: Setting Permisson
![picture 14](../../images/7efcfe16f6a25941dfba563bdd8cdfe29e28421ad59c611fab09026b9ad27697.png)  

![picture 15](../../images/3340820179bbb770fb257eef6bcf18961cb0febc59a1c2b328d67e381f65ac6d.png)  

![picture 16](../../images/39f185280e34847cb2a7c3fe73d0ed55654f74690e988d4fa9bdf85eed9641cf.png)  

![picture 17](../../images/8fac71f06ddbae33c3bddcd937fb6338d38e9ed0602e107b8b08f894c15ec255.png)  
> mary 透過 jumpserver 連接到centos7-2(透過user設定)


![picture 18](../../images/3a8283309933f1f35ed1428de439550e58a77616f427acb726b97e509e463c78.png)  
> 去掉打勾才不會叫你重新設定密碼

登入mary 需要打勾
![picture 19](../../images/677cded9ed725c7e1d6271a0509ea41b3d0ab004bda6a01ce1c45249070a2a69.png)  

submit之後重新登入
![picture 20](../../images/ab5d37a32ce9ff8f063e6ca207706e73d47bdfc54164fbad14039d0c9bd154c2.png)  
> 就可以看到左側導航欄多了壹些東西

選擇web terminal
![picture 21](../../images/a59e7249abe79fb8aa5372f27b88a959a986c1688d1aab30c5f4d82d583430b3.png)  

![picture 22](../../images/e4b3c9dd59267a3521fdfb641d32698ee765e21879d1a60ce6cff9f48b620e78.png)  
> 可以看到以上介面

![picture 23](../../images/3d574590f67f9734bd60cd96db526a7e2396d10430dd740f16895bba3144818b.png)  
> 選擇剛剛創建的centos1,web方式與ssh方式(能使用puppy)

按下comfirm
![picture 24](../../images/9acd8acfbf53122970e57c53bd6be52bfdb54c70053b81e63a7daecafa59de13.png)  
> 我的ip好像改錯了...

![picture 25](../../images/7d914ae9c9d4d0bb3eece46f13be7c8230e4edb512cd2510f94bf453390de97b.png)  
> 修改asset IP 改成我現在虛擬機的ip 如果你的正確那就不用改

![picture 26](../../images/de6fd43ceabdf27830d78a2c1421f9d747fca1ef463e1a546fb6dd97e8c58c45.png)  
> 實現了mary使用 jumpServer登入到user帳號

